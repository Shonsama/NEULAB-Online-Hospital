drop table if exists  `his`.`user`;
CREATE TABLE `his`.`user_info` (
  `user_account` VARCHAR(45) NOT NULL,
  `user_password` VARCHAR(45) NOT NULL,
  `user_name` VARCHAR(45)NOT NULL,
  `user_tpe` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`user_account`));

drop table if exists  `his`.`patient`;
CREATE TABLE `his`.`patient_info` (
  `patient_id` VARCHAR(45) NOT NULL,
  `patient_address` VARCHAR(400) NULL,
  `patient_birthDate` date NULL,
  `patient_age` VARCHAR(45) NULL,
  `patient_gender` VARCHAR(45) NULL,
  `patient_name` VARCHAR(45) NULL,
  PRIMARY KEY (`patient_id`));

  drop table if exists  `his`.`doctor`;
CREATE TABLE `his`.`doctor_info` (
  `doctor_account` VARCHAR(45) NOT NULL,
  `doctor_type` VARCHAR(45) NOT NULL,
  `doctor_available` boolean NOT NULL,
   PRIMARY KEY (`doctor_account`),
   KEY `user_info` (`doctor_account`),
  CONSTRAINT `user_info`FOREIGN KEY  (`doctor_account`)  REFERENCES  `user_info` (`user_account`));

  drop table if exists  `his`.`record_pattern`;
CREATE TABLE `his`.`record_info` (
  `record_type` VARCHAR(45) NOT NULL,
  `record_category` VARCHAR(45) NOT NULL,
  `record_range` VARCHAR(45)NOT NULL,
  `record_name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`record_name`));

  drop table if exists  `his`.`record`;
CREATE TABLE `his`.`record` (
 `patient_id` VARCHAR(45) NOT NULL,
  `doctor_account` VARCHAR(45) NOT NULL,
  `outpatient_num` VARCHAR(45) NOT NULL,
  `record_diagnosis` VARCHAR(400) NOT NULL,
  `record_syndrome` VARCHAR(400) NOT NULL,
  `record_health_check` VARCHAR(400) NULL,
  `record_xianbingshi` VARCHAR(400)  NULL,
  `record_jiwangshi` VARCHAR(400)  NULL,
  `record_cure_situation` VARCHAR(400) NULL,
  `record_confirm_diagnosis` VARCHAR(400) NULL,
  `record_allergy_his` VARCHAR(400) NULL,
  PRIMARY KEY (`outpatient_num`),
  KEY `outpatient` (`outpatient_num`),
  CONSTRAINT `outpatient`FOREIGN KEY  (`outpatient_num`)  REFERENCES  `outpatient` (`outpatient_num`),
  KEY `patient_info` (`patient_id`),
  CONSTRAINT `patient_info`FOREIGN KEY  (`patient_id`)  REFERENCES  `patient_info` (`patient_id`),
    KEY `doctor_info` (`doctor_account`),
  CONSTRAINT `doctor_info`FOREIGN KEY  (`doctor_account`)  REFERENCES  `doctor_info` (`doctor_account`));

  CREATE TABLE `his`.`common_diagnosis` (
  `doctor_account` VARCHAR(45) NOT NULL,
  `record_type` VARCHAR(45) NOT NULL,
  `record_category` VARCHAR(45) NOT NULL,
  `record_range` VARCHAR(45)NOT NULL,
  `record_name` VARCHAR(45) NOT NULL,
  `record_diagnosis` VARCHAR(400) NOT NULL,
  `record_syndrome` VARCHAR(400) NOT NULL,
  `record_health_check` VARCHAR(400) NULL,
  `record_xianbingshi` VARCHAR(400)  NULL,
  `record_jiwangshi` VARCHAR(400)  NULL,
  `record_cure_situation` VARCHAR(400) NULL,
  `record_confirm_diagnosis` VARCHAR(400) NULL,
  `record_allergy_his` VARCHAR(400) NULL,
   PRIMARY KEY (`doctor_account`),
   KEY `user_info` (`doctor_account`),
  CONSTRAINT `user_info`FOREIGN KEY  (`doctor_account`)  REFERENCES  `user_info` (`user_account`));